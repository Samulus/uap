<!--
    index.html
    Author: Samuel Vargas
    Date: 11/04/2016
-->

<!DOCTYPE html>
    <html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="UTF-8">
        <title>uap</title>
        <link rel="stylesheet" href="css/layout.css">
        <link rel="stylesheet" href="css/vital.min.css">
        <link rel="stylesheet" href="css/vital.min.map">
    </head>

    <body>

    <template id="refresh-library">
        <a class="btn round no-outline" v-on:click="refresh_library()">Refresh Library</a>
    </template>

    <template id="nav-component">
        <div class="autogrid tabs-block">
            <div class="col"><router-link class="col" to='/queue'   exact>Queue</router-link></div>
            <div class="col"><router-link class="col" to='/artists' exact>Artists</router-link></div>
            <div class="col"><router-link class="col" to='/albums'  exact>Albums</router-link></div>
            <div class="col"><router-link class="col" to='/genres'  exact>Genres</router-link></div>
            <div class="col"><refresh-library></refresh-library></div>
        </div>
    </template>

    <template id="song-queue">
        <h1>Song Queue</h1>
    </template>


    <template id="artists-view">
        <div>
            <h1>Artists</h1>
            <div class="autogrid">
                <router-link
                        v-for="(_, artist) in library"
                        class="col-1-3"
                        v-bind:to="'/albums/' + artist">{{artist}}
                </router-link>
            </div>
        </div>
    </template>

    <template id="albums-view">
        <div>
            <h1 v-if="viewing_specific_artist">{{artist_name}}</h1>
            <div class="autogrid" v-if="viewing_specific_artist">
                <router-link
                        v-for="(_, album_name) in artist_albums"
                        class="col-1-3"
                        v-bind:to="'/albums/' + artist_name + '/' + album_name">{{album_name}}
                </router-link>
            </div>
            <div v-else>
                <div class="autogrid">
                    <div v-for="(_, artist, index) in library" class="col1-1">
                        <h2>{{artist}}</h2>
                        <div class="autogrid">
                            <router-link  class="col-1-3"
                                    v-for="(_, album_name) in library[artist]"
                                    class="col-1-3"
                                    v-bind:to="'/albums/' + artist + '/' + album_name">{{album_name}}
                            </router-link>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="genre-view">
        <h1>Genre</h1>
    </template>

    <div id="app">
        <nav-component></nav-component>
        <router-view></router-view>
    </div>

    <script src="js/lib/vue.js"></script>
    <script src="js/lib/vue-router.min.js"></script>
    <script src="js/lib/vue-resource.min.js"></script>
    <script src="js/lib/vuex.min.js"></script>
    <script>Vue.config.devtools = true;</script>
    <script src="js/client.js"></script>
    </body>
</html>